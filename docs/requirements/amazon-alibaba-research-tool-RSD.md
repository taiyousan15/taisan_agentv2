# 要件定義書 (Requirements Specification Document)

**プロジェクト名**: Amazon × アリババ 物販リサーチツール
**バージョン**: 1.0.0
**作成日**: 2026-02-20
**ステータス**: ドラフト（ステークホルダーレビュー待ち）

---

## 目次

1. [プロジェクト概要](#1-プロジェクト概要)
2. [ステークホルダー分析](#2-ステークホルダー分析)
3. [機能要件](#3-機能要件)
4. [非機能要件](#4-非機能要件)
5. [制約条件](#5-制約条件)
6. [用語集](#6-用語集)
7. [優先度マトリクス（MoSCoW法）](#7-優先度マトリクスmoscow法)

---

## 1. プロジェクト概要

### 1.1 ビジョン

Amazon Japan で売れる商品をアリババ・1688.com から仕入れて販売する物販ビジネスにおいて、
リサーチ・比較分析・利益計算・アラート通知を自動化し、セラーの意思決定を支援する。

### 1.2 ビジネス目標

| 目標 | 指標 | 目標値 |
|------|------|--------|
| リサーチ時間の削減 | 週あたりリサーチ時間 | 現在の 5 時間 → 1 時間以下 |
| 利益商品の発見率向上 | 月あたり利益商品発見数 | 現在の 3 件 → 10 件以上 |
| 運営コスト抑制 | 月額ツールコスト | 3,000 円以下 |
| 競合との差別化 | 独自機能数 | 4 機能（リアルタイムアラート・完全利益計算・LINE通知・日本語UI） |

### 1.3 スコープ

**対象**:
- Amazon Japan (amazon.co.jp) の商品データ取得・分析
- アリババ・1688.com の商品データ取得・比較
- 仕入れ価格・送料・関税・FBA費用を含む純利益計算
- 利益商品発見時の LINE Notify 通知

**対象外**:
- 中国語サポート（日本語専用）
- Amazon Japan 以外のマーケットプレイス（楽天・Yahoo等）
- 自動発注・在庫管理
- 複数ショップアカウントの一括管理（v2.0 に延期）

### 1.4 前提条件

- Amazon SP-API、Keepa API、PA-API のアカウントを取得済みであること
- Apify アカウントを取得済みであること
- LINE Notify トークンを取得済みであること
- ユーザーが Amazon セラーアカウントを保有していること

---

## 2. ステークホルダー分析

### 2.1 Power/Interest グリッド

```
           High Power
               |
Keep Satisfied |  Manage Closely
               |
規約・コンプライアンス担当 | 個人セラー（副業）
Amazon利用規約          | プロセラー（専業）
為替・関税当局          |
               |
Low Interest ──┼────────────────── High Interest
               |
Monitor        |  Keep Informed
               |
一般ユーザー    | 技術サポート
               |
            Low Power
```

### 2.2 ステークホルダー詳細

| ステークホルダー | Power | Interest | 戦略 | 主要ニーズ |
|----------------|-------|----------|------|-----------|
| 個人セラー（副業） | High | High | 密に管理 | 操作の簡単さ・利益計算の正確さ |
| プロセラー（専業） | High | High | 密に管理 | 処理速度・一括処理・API連携 |
| Amazon（規約） | High | Low | 満足させる | 利用規約・レートリミット遵守 |
| アリババ（規約） | High | Low | 満足させる | スクレイピング制限遵守 |
| 税関・関税当局 | High | Low | 満足させる | 正確な関税計算 |
| 開発チーム | Medium | High | 密に管理 | 実装可能性・保守性 |

### 2.3 ペルソナ詳細

#### ペルソナ1: 個人セラー「田中さん（副業）」

```
基本情報:
- 職業: IT 会社員（30代）
- 物販歴: 1年、月利益 5〜10 万円を目標
- スキル: PC は使える、プログラミング知識はほぼない
- デバイス: MacBook + iPhone

Jobs-to-be-Done:
「平日夜や週末に、どの商品が利益になるかを素早く調べたい。
 毎週5時間かけているリサーチを自動化して、
 家族との時間を削らずに副業収入を安定させたい。」

痛点（Pain Points）:
- Amazon の売れ筋と仕入れ価格の手動比較が面倒
- FBA 手数料・関税の計算が複雑でミスが怖い
- 価格が動く中で、良い商品を見逃してしまう
- 複数ツール（Keepa・ERESA・1688）の行き来が非効率

期待する価値（Gain):
- スマホで通知が来て、すぐ判断できる
- 「この商品は利益率 25%以上」と一目でわかる
- 月 3,000 円以内で使えるコストパフォーマンス
```

#### ペルソナ2: プロセラー「鈴木さん（専業）」

```
基本情報:
- 職業: Amazon 専業セラー（40代）
- 物販歴: 5年、月利益 50 万円以上
- スキル: Keepa・Jungle Scout 経験あり、簡単な API 操作可能
- デバイス: Windows デスクトップ + iPad

Jobs-to-be-Done:
「複数カテゴリを同時に管理しながら、
 ライバルより先に利益商品を発見したい。
 1日100件以上の商品を効率よくスクリーニングし、
 仕入れ判断の根拠データを確認したい。」

痛点（Pain Points）:
- 既存ツール（Helium10・SellerSprite）は高額（月 $99〜）
- 日本語対応が弱く、関税計算が海外基準で不正確
- 商品の価格推移と仕入れタイミングの連動分析ができない
- カテゴリ横断の一括スクリーニングがない

期待する価値（Gain）:
- CSV 一括インポートで 100 件を一度にチェック
- API 直接接続でデータを自分のスプレッドシートに持ち出せる
- 為替レート・関税変動の影響をリアルタイム反映
```

#### ペルソナ3: リスク管理観点「コンプライアンス」

```
リスクカテゴリ:
1. 偽商品・品質問題リスク
   - 評価数・レビュー内容の確認
   - 1688.com 出品者評価スコアの取得
   - 模倣品フラグのチェック

2. Amazon 規約違反リスク
   - 制限商品カテゴリの自動除外
   - レートリミット遵守（SP-API: 1req/s）
   - データキャッシュによる API 負荷軽減

3. 為替変動リスク
   - USD/CNY→JPY リアルタイムレート取得
   - 為替変動バッファの設定（±5%）

4. API レート制限リスク
   - キュー管理・指数バックオフ実装
   - エラー時の再試行ポリシー定義
```

### 2.4 RACI マトリクス

| アクティビティ | 個人セラー | プロセラー | 開発チーム | Amazon規約 |
|--------------|-----------|-----------|-----------|-----------|
| 要件定義 | C | C | R | I |
| 機能仕様確定 | C | C | A/R | I |
| 利益計算ロジック | A | C | R | I |
| API 連携設計 | I | C | R | A |
| 関税計算仕様 | I | I | R | A |
| リリース判断 | I | I | A | I |

凡例: R=Responsible（実行）, A=Accountable（責任）, C=Consulted（相談）, I=Informed（通知）

---

## 3. 機能要件

### 3.1 ユーザーストーリーマップ

```
[ユーザー活動]
商品発見 → 利益分析 → 仕入れ判断 → トラッキング → 通知受信

[ユーザーストーリー]
商品発見:
  - Amazon トレンド商品を検索できる
  - アリババで対応商品を自動マッチングできる
  - キーワードで商品リストを一覧取得できる

利益分析:
  - 仕入れ価格・送料・関税・FBA 費用を含む利益率を計算できる
  - 価格推移（Keepa グラフ）を確認できる
  - 為替レートを反映した最新計算ができる

仕入れ判断:
  - 利益率・ランキング・競合数でフィルタリングできる
  - 1688 の出品者評価を確認できる
  - Amazon 制限カテゴリを除外できる

トラッキング:
  - ウォッチリストに商品を追加できる
  - 価格変動を自動監視できる

通知受信:
  - 利益条件を満たしたら LINE に通知が届く
  - 通知内容に利益計算の詳細が含まれる
```

### 3.2 機能要件一覧

#### FR-001: Amazon 商品データ取得

**ユーザーストーリー**:
```
個人セラーとして、
Amazon Japan の売れ筋商品データ（ランキング・価格・レビュー数）を自動取得したい。
そうすることで、手動でリサーチする時間を削減できる。
```

**受け入れ基準（Given/When/Then）**:

1. Given ユーザーがカテゴリを選択する
   When 「検索」ボタンを押す
   Then カテゴリ内の上位 100 件の ASIN・タイトル・価格・ランキング・レビュー数が 30 秒以内に表示される

2. Given SP-API のレートリミット（1 req/s）がある
   When 100 件取得を実行する
   Then レートリミットを超えず、全件取得が完了する（エラーゼロ）

3. Given PA-API で価格取得する
   When リアルタイム価格を要求する
   Then Amazon 現在価格と最安値出品者価格が返される

**利用 API**: Amazon SP-API（商品ランキング）、PA-API（価格）、Keepa API（価格推移）

---

#### FR-002: アリババ・1688 商品データ取得

**ユーザーストーリー**:
```
個人セラーとして、
Amazon で見つけた商品に対応するアリババ・1688.com の仕入れ先を自動検索したい。
そうすることで、仕入れ価格を素早く把握できる。
```

**受け入れ基準**:

1. Given Amazon 商品のタイトル（ASIN）がある
   When アリババ検索を実行する
   Then 商品名・仕入れ単価（元）・MOQ（最低注文数）・出品者評価が上位 10 件取得される

2. Given 1688.com の商品ページがある
   When データを取得する
   Then 仕入れ単価（CNY）・送料・出品者スコア（4.7/5 以上推奨）が取得される

3. Given Apify レートリミットがある
   When 複数商品を一括検索する
   Then キュー管理で順次処理し、エラー時は自動リトライ（最大 3 回）する

**利用 API**: Apify 1688 Scraper Actor

---

#### FR-003: 完全利益計算エンジン

**ユーザーストーリー**:
```
個人セラーとして、
仕入れ価格から純利益・利益率を自動計算したい。
そうすることで、関税計算ミスによる赤字仕入れを防げる。
```

**受け入れ基準**:

1. Given 以下のデータが揃っている
   - Amazon 販売価格
   - アリババ仕入れ単価（CNY）
   - 商品カテゴリ・重量・サイズ
   When 「利益計算」を実行する
   Then 以下の計算結果が表示される:
   ```
   純利益 = 販売価格
           - Amazon 手数料（カテゴリ別 8〜15%）
           - FBA 配送料（重量・サイズ別）
           - FBA 保管料（月額）
           - 仕入れ価格（CNY × 為替レート）
           - 中国→日本 国際送料（重量別）
           - 関税（CIF 方式）
           - 消費税（輸入時）
   利益率 = 純利益 / 販売価格 × 100
   ```

2. Given 関税率がある
   When CIF 方式で関税を計算する
   Then 関税 = （商品価格 + 国際送料 + 保険料） × 関税率 が正確に計算される

3. Given 為替レートが変動する
   When 計算を実行する
   Then 直近 1 時間以内の USD/CNY→JPY レートが使用される

**計算式詳細**:
```
FBA 手数料（参考）:
  - 小型標準: 265 円
  - 標準: 356 円
  - 大型: 499 円〜

Amazon カテゴリ別販売手数料:
  - 家電: 8%
  - おもちゃ: 8%
  - ファッション: 10%
  - 一般商品: 15%

関税（CIF 方式）:
  - CIF 価格 = 仕入れ価格 + 国際送料 + 保険料
  - 関税額 = CIF 価格 × 関税率（カテゴリ別）
  - 消費税 = （CIF 価格 + 関税額） × 10%
```

---

#### FR-004: 商品マッチングエンジン

**ユーザーストーリー**:
```
個人セラーとして、
Amazon の商品とアリババの仕入れ先を自動でマッチングしたい。
そうすることで、手動で対応商品を探す時間をなくせる。
```

**受け入れ基準**:

1. Given Amazon の商品タイトルがある
   When マッチング処理を実行する
   Then キーワード類似度・カテゴリ一致・価格帯でスコアリングし、上位 5 件の候補を表示する

2. Given マッチング候補が複数ある
   When 候補一覧を表示する
   Then 各候補に「マッチング信頼度」（高・中・低）が表示される

3. Given ASIN と 1688 商品 URL が紐づいている
   When ウォッチリストに追加する
   Then ペア情報が保存され、価格変動を監視する

---

#### FR-005: フィルタリング・スクリーニング

**ユーザーストーリー**:
```
プロセラーとして、
大量の商品を利益率・ランキング・競合数で絞り込みたい。
そうすることで、時間をかけずに有望商品だけを確認できる。
```

**受け入れ基準**:

1. Given 商品一覧が表示されている
   When フィルターを設定する
   Then 以下の条件で絞り込みができる:
   - 利益率（例: 20% 以上）
   - Amazon ランキング（例: 1 万位以内）
   - 月間推定販売数（例: 100 個以上）
   - 競合出品者数（例: 10 社以下）
   - レビュー数（例: 50 件以下 = 競合少ない）
   - 価格帯（例: 1,000 円〜10,000 円）

2. Given フィルター設定がある
   When 「スクリーニング開始」を押す
   Then 条件を満たす商品のみが一覧表示される（結果 0 件の場合はその旨表示）

3. Given スクリーニング結果がある
   When 「CSV エクスポート」を押す
   Then 全カラム含む CSV ファイルがダウンロードされる

---

#### FR-006: ウォッチリスト・価格監視

**ユーザーストーリー**:
```
個人セラーとして、
気になる商品をウォッチリストに追加し、価格変動を自動監視したい。
そうすることで、仕入れ最適タイミングを見逃さない。
```

**受け入れ基準**:

1. Given 商品詳細画面がある
   When 「ウォッチリストに追加」を押す
   Then ASIN・1688 URL・現在の利益率が保存される

2. Given ウォッチリストに商品がある
   When バックグラウンド監視が動作する
   Then 6 時間ごとに Amazon 価格・1688 価格を再取得し、利益率を再計算する

3. Given 利益率が設定値（例: 20%）を超えた
   When 監視ジョブが検出する
   Then LINE Notify で通知を送信する

---

#### FR-007: LINE Notify 通知

**ユーザーストーリー**:
```
個人セラーとして、
利益商品が見つかったら LINE に通知を受け取りたい。
そうすることで、ツールを開かなくても情報を把握できる。
```

**受け入れ基準**:

1. Given 利益率が閾値（ユーザー設定値）を超えた
   When 監視ジョブが検出する
   Then 以下の内容を含む LINE メッセージが 5 分以内に届く:
   ```
   【利益商品発見】
   商品名: [商品タイトル]
   Amazon 販売価格: ¥X,XXX
   利益率: XX%（純利益: ¥X,XXX）
   仕入れ単価: XX 元（約 ¥XXX）
   Amazon ランキング: XX 位
   競合出品者数: XX 社
   詳細: [ツールの商品詳細 URL]
   ```

2. Given LINE Notify トークンが未設定
   When 通知を送ろうとする
   Then エラーログに記録し、ユーザーに設定を促すメッセージを画面表示する

3. Given 1 日の通知数が多い
   When 同じ商品の価格変動で複数通知が発生する
   Then 同一 ASIN への通知は 24 時間以内に 1 回のみ（重複防止）

---

#### FR-008: ダッシュボード

**ユーザーストーリー**:
```
個人セラーとして、
ツールのメイン画面で全体の状況を把握したい。
そうすることで、どこから操作するか迷わない。
```

**受け入れ基準**:

1. Given ログイン後にダッシュボードを表示する
   When ページが読み込まれる
   Then 以下の情報が 3 秒以内に表示される:
   - ウォッチリスト商品数と直近アラート数
   - 本日の利益商品発見数
   - 直近スクリーニング結果サマリー
   - API 使用状況（月間クレジット残量）

2. Given スマートフォンでアクセスする
   When ダッシュボードを表示する
   Then モバイル対応レイアウトで全機能が操作できる

---

#### FR-009: 設定管理

**ユーザーストーリー**:
```
プロセラーとして、
通知条件・利益率閾値・為替バッファを細かく設定したい。
そうすることで、自分の戦略に合ったアラートが届く。
```

**受け入れ基準**:

1. Given 設定画面がある
   When 以下の項目を設定できる
   Then 変更が保存され、次回の計算・監視に反映される:
   - 利益率通知閾値（例: 20%）
   - 最低純利益額（例: 500 円）
   - 為替変動バッファ（例: ±5%）
   - 監視間隔（例: 6 時間）
   - LINE Notify トークン
   - API キー管理（Amazon SP-API・Keepa・Apify）

2. Given API キーが設定されている
   When 「接続テスト」ボタンを押す
   Then 各 API への疎通確認結果（成功/失敗）が表示される

---

#### FR-010: CSV 一括インポート（プロセラー向け）

**ユーザーストーリー**:
```
プロセラーとして、
ASIN リストを CSV でインポートし、一括で利益計算したい。
そうすることで、100 件以上の商品を効率よくスクリーニングできる。
```

**受け入れ基準**:

1. Given CSV ファイル（ASIN 列）がある
   When ファイルをアップロードする
   Then 最大 500 件の ASIN を読み込み、バックグラウンドで処理を開始する

2. Given 処理が進行中である
   When 処理状況画面を表示する
   Then 「処理中 XX / 500 件」とリアルタイムで進捗が更新される

3. Given 処理が完了する
   When 完了通知が届く
   Then 結果を CSV エクスポートできる（利益率・純利益・各コスト内訳含む）

---

## 4. 非機能要件

### 4.1 パフォーマンス

| 要件 ID | 項目 | 目標値 | 測定方法 |
|--------|------|--------|---------|
| NFR-P-001 | 商品検索レスポンス | 30 秒以内（100 件） | ロードテスト |
| NFR-P-002 | 利益計算レスポンス | 1 秒以内（1 件） | ユニットテスト |
| NFR-P-003 | ページ初期表示 | 3 秒以内（LCP） | Lighthouse |
| NFR-P-004 | 一括処理スループット | 500 件 / 30 分以内 | 結合テスト |
| NFR-P-005 | 監視ジョブ精度 | ±30 分以内でのアラート発報 | ログ検証 |

### 4.2 信頼性・可用性

| 要件 ID | 項目 | 目標値 |
|--------|------|--------|
| NFR-R-001 | 稼働率 | 99% 以上（月間 7.2 時間以下のダウン） |
| NFR-R-002 | データ損失 | ウォッチリストデータはゼロ損失 |
| NFR-R-003 | API エラー時 | 指数バックオフで最大 3 回リトライ |
| NFR-R-004 | 為替レート更新 | 1 時間ごと（取得失敗時は直近キャッシュ使用） |
| NFR-R-005 | バックアップ | 1 日 1 回の自動バックアップ（保持 7 日） |

### 4.3 セキュリティ

| 要件 ID | 項目 | 基準 |
|--------|------|------|
| NFR-S-001 | API キー保管 | 環境変数（.env）、ハードコード禁止 |
| NFR-S-002 | 認証 | メールアドレス + パスワード認証（bcrypt ハッシュ） |
| NFR-S-003 | 通信暗号化 | HTTPS 強制（TLS 1.2 以上） |
| NFR-S-004 | データ保管 | API キーは暗号化保存（AES-256） |
| NFR-S-005 | 入力検証 | 全入力値にバリデーション実施 |
| NFR-S-006 | レートリミット | ユーザー操作に対するサーバーサイドレート制限 |

**セキュリティ要件詳細**:
- Amazon SP-API の利用規約に従い、データの第三者提供を禁止する
- 1688.com スクレイピングは Apify 経由のみ（直接スクレイピングは禁止）
- ユーザーの API キーは他ユーザーから参照不可能にする

### 4.4 ユーザビリティ

| 要件 ID | 項目 | 基準 |
|--------|------|------|
| NFR-U-001 | タスク完了率 | 初回利用者の 90% が説明不要で利益計算を完了できる |
| NFR-U-002 | 操作時間 | 1 商品の利益確認が 3 クリック以内 |
| NFR-U-003 | モバイル対応 | iPhone Safari・Android Chrome で全機能操作可能 |
| NFR-U-004 | 言語 | 日本語のみ（技術用語は英語表記可） |
| NFR-U-005 | エラーメッセージ | 技術的でない日本語で原因と対処法を表示 |

### 4.5 コスト制約（月額上限: 3,000 円）

| サービス | 月額コスト（推定） | プラン |
|---------|----------------|--------|
| Amazon SP-API | 無料 | 無料枠 |
| Keepa API | 約 660 円 ($4.99) | Basic |
| PA-API | 無料 | 無料枠 |
| Apify | 約 660 円 ($4.99) | Starter |
| LINE Notify | 無料 | 無料 |
| ホスティング | 無料〜660 円 | Vercel/Railway 無料枠 |
| 為替 API | 無料 | Open Exchange Rates 無料枠 |
| **合計** | **約 1,320〜2,640 円** | **3,000 円以内** |

---

## 5. 制約条件

### 5.1 技術的制約

| 制約 | 詳細 | 対応方針 |
|------|------|---------|
| Amazon SP-API レートリミット | 1 req/s（カテゴリ別） | キュー管理・バースト制御 |
| Keepa API クレジット | プランに応じた月間制限 | キャッシュ（TTL: 6 時間）で節約 |
| Apify アクター実行時間 | プランに応じた制限 | 非同期バックグラウンド実行 |
| 1688.com 構造変更 | スクレイピング仕様が変わる可能性 | Apify アクターのバージョン固定 |
| PA-API | 販売実績のあるアカウントが必要 | ドキュメントに明記 |

### 5.2 法的・規約制約

| 制約 | 詳細 |
|------|------|
| Amazon 利用規約 | 取得データの再販・第三者提供禁止 |
| Amazon 制限カテゴリ | 医薬品・危険物・ブランド品等は自動除外リストに追加 |
| 関税法 | 輸入関税の計算は CIF 方式に準拠（日本関税定率法） |
| 景品表示法 | 利益計算は「目安」表示とし、保証はしない旨を明示 |
| 個人情報保護法 | ユーザーの API キー等の個人情報は適切に保護 |

### 5.3 ビジネス制約

| 制約 | 詳細 |
|------|------|
| 月額コスト上限 | 3,000 円以下（API 費用合計） |
| MVP リリース | 3 ヶ月以内（FR-001〜007 の実装） |
| 対応カテゴリ | 初期リリース時は 10 カテゴリ（家電・おもちゃ・スポーツ・ホーム等） |
| 同時ユーザー数 | 初期は 1 ユーザー（個人利用前提） |

---

## 6. 用語集

| 用語 | 定義 |
|------|------|
| ASIN | Amazon Standard Identification Number。Amazon 商品固有の ID |
| SP-API | Amazon Selling Partner API。セラー向けの公式 API |
| PA-API | Amazon Product Advertising API。商品情報・価格取得 API |
| Keepa API | Amazon の価格推移・ランキング履歴を提供するサードパーティ API |
| Apify | Web スクレイピングのクラウドサービス。1688 スクレイパーを提供 |
| 1688.com | アリババグループが運営する中国向け B2B 仕入れサイト |
| FBA | Fulfillment by Amazon。Amazon の倉庫・配送代行サービス |
| FBA 手数料 | FBA 配送料 + 保管料。商品サイズ・重量・保管期間で決まる |
| Amazon 手数料 | 商品カテゴリ別の販売手数料（8〜15%） |
| CIF 方式 | Cost, Insurance and Freight。商品代金＋保険料＋運賃の合計 |
| MOQ | Minimum Order Quantity。最低注文数量 |
| 純利益 | 販売価格から全コスト（手数料・送料・関税・仕入れ）を差し引いた額 |
| 利益率 | 純利益 ÷ 販売価格 × 100（%） |
| ウォッチリスト | 価格監視対象の商品リスト |
| LINE Notify | LINE が提供する通知 API。無料で利用可能 |
| CNY | 中国人民元（元）。1688 の価格単位 |
| MoSCoW | Must / Should / Could / Won't の優先度分類手法 |

---

## 7. 優先度マトリクス（MoSCoW 法）

### 7.1 Must Have（MVP に必須: リリース 1〜3 ヶ月目）

| 機能 ID | 機能名 | 理由 |
|--------|--------|------|
| FR-001 | Amazon 商品データ取得 | コアデータなしにシステムが成立しない |
| FR-002 | アリババ・1688 データ取得 | 仕入れ価格なしに利益計算不可 |
| FR-003 | 完全利益計算エンジン | 差別化の核心機能（関税込み計算） |
| FR-006 | ウォッチリスト・価格監視 | 継続的価値を提供するコア機能 |
| FR-007 | LINE Notify 通知 | 差別化機能・ユーザー継続率に直結 |
| FR-009 | 設定管理 | API キー管理なしにシステムが動作しない |

### 7.2 Should Have（重要: リリース 2〜4 ヶ月目）

| 機能 ID | 機能名 | 理由 |
|--------|--------|------|
| FR-004 | 商品マッチングエンジン | 手動マッチングは許容範囲だが、UX を大きく改善 |
| FR-005 | フィルタリング・スクリーニング | 個人セラーには必要十分。プロセラーには必須 |
| FR-008 | ダッシュボード | 全体把握に重要。ただし個別機能優先 |

### 7.3 Could Have（あれば良い: リリース 4〜6 ヶ月目）

| 機能 ID | 機能名 | 理由 |
|--------|--------|------|
| FR-010 | CSV 一括インポート | プロセラー向け。初期ターゲット外 |
| FR-011（将来）| 価格推移グラフ（Keepa 連携） | Keepa で代替可能。あれば UX 向上 |
| FR-012（将来）| Slack 通知 | LINE で代替可能。ニーズ次第 |
| FR-013（将来）| 競合セラー分析 | 高度機能。初期は不要 |

### 7.4 Won't Have（今回は実装しない）

| 機能 | 除外理由 |
|------|---------|
| 自動発注（1688 連携） | 金銭的リスクが高い。要追加検討 |
| 在庫管理 | スコープ外（既存ツールで代替） |
| 楽天・Yahoo 対応 | Amazon 専用で差別化 |
| 複数ユーザー管理 | 初期は個人利用前提 |
| AI 商品レコメンド | コスト・複雑性が高い。v2.0 以降 |
| モバイルアプリ | Web 対応で十分。v2.0 以降 |

---

## 8. トレーサビリティマトリクス

| 要件 ID | ユーザーストーリー | 優先度 | 設計 | 実装 | テスト | ステータス |
|--------|-----------------|--------|------|------|--------|----------|
| FR-001 | Amazon データ取得 | Must | - | - | - | 未着手 |
| FR-002 | アリババデータ取得 | Must | - | - | - | 未着手 |
| FR-003 | 利益計算エンジン | Must | - | - | - | 未着手 |
| FR-004 | マッチングエンジン | Should | - | - | - | 未着手 |
| FR-005 | フィルタリング | Should | - | - | - | 未着手 |
| FR-006 | ウォッチリスト | Must | - | - | - | 未着手 |
| FR-007 | LINE 通知 | Must | - | - | - | 未着手 |
| FR-008 | ダッシュボード | Should | - | - | - | 未着手 |
| FR-009 | 設定管理 | Must | - | - | - | 未着手 |
| FR-010 | CSV 一括 | Could | - | - | - | 未着手 |

---

## 9. リスク管理

### 9.1 リスク一覧

| リスク ID | リスク | 発生確率 | 影響度 | 対応策 |
|---------|-------|---------|--------|--------|
| RISK-001 | Amazon SP-API 仕様変更 | 中 | 高 | API バージョン固定、変更通知をモニタリング |
| RISK-002 | 1688 サイト構造変更 | 高 | 中 | Apify アクターのバージョン固定、月次チェック |
| RISK-003 | 為替レート急変 | 中 | 中 | バッファ設定（±5%）、ユーザーへの警告表示 |
| RISK-004 | API コスト超過 | 低 | 高 | 月間使用量アラート（80% で通知） |
| RISK-005 | Amazon 規約違反 | 低 | 高 | 制限カテゴリ除外、レートリミット厳守 |
| RISK-006 | 偽商品・模倣品 | 中 | 中 | 1688 出品者スコア表示、免責事項明記 |
| RISK-007 | PA-API 販売実績要件 | 中 | 高 | Keepa API で代替、ドキュメントに明記 |

---

## 10. 次のステップ

1. **ステークホルダーレビュー**（1 週間以内）
   - 個人セラーペルソナ（田中さん想定）による受け入れ基準の確認
   - 利益計算ロジックの正確性検証（税理士・税関専門家への確認推奨）

2. **技術設計への委譲**
   - system-architect: API 連携アーキテクチャ設計
   - api-designer: FR-001〜FR-010 の API コントラクト設計
   - ui-ux-designer: ダッシュボード・利益計算画面のワイヤーフレーム

3. **プロトタイプ作成**（2 週間以内）
   - 利益計算エンジン（FR-003）の CLI プロトタイプ
   - API 接続テスト（Amazon SP-API・Keepa・Apify）

4. **ステークホルダー承認**（3 週間以内）
   - 本 RSD の最終承認
   - MVP 機能スコープの確定

---

*本要件定義書は 2026-02-20 時点の情報に基づいています。*
*ステークホルダーのフィードバックにより随時更新します。*
