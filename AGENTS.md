# AGENTS.md â€” ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¨ªæ–­ è‡ªå·±æ”¹å–„ãƒ­ã‚°

> ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯å…¨ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«è‡ªå‹•ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ã€‚
> å¤±æ•—ãƒ»æ•™è¨“ãƒ»æœ‰åŠ¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’è¨˜éŒ²ã—ã€æ¬¡ã‚»ãƒƒã‚·ãƒ§ãƒ³ã«å¼•ãç¶™ãã¾ã™ã€‚
> æ›´æ–°: `/learn` ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã‹ã€æ‰‹å‹•ã§è¿½è¨˜ã—ã¦ãã ã•ã„ã€‚

---

## ğŸš« çµ¶å¯¾ã«ç¹°ã‚Šè¿”ã—ã¦ã¯ã„ã‘ãªã„é–“é•ã„

<!-- ä¾‹: [YYYY-MM-DD] é–“é•ã„ã®å†…å®¹ â†’ æ­£ã—ã„å¯¾å‡¦æ³• -->

| æ—¥ä»˜ | é–“é•ã„ | æ­£ã—ã„å¯¾å‡¦æ³• |
|------|--------|-------------|
| 2026-02-22 | Prisma generate å‰ã« build ã‚’å®Ÿè¡Œ | schema.prisma å¤‰æ›´å¾Œã¯å¿…ãš `prisma generate` â†’ `build` ã®é †åº |
| 2026-02-22 | MCP 5æœ¬åŒæ™‚èµ·å‹• | ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ ~55kæ¶ˆè²»ã€‚2-3æœ¬ä»¥ä¸‹ã«åˆ¶é™ |
| 2026-02-22 | `Anthropic.APIStatusError` ã‚’ä½¿ç”¨ | SDK v0.39.0 ã«ã¯å­˜åœ¨ã—ãªã„ â†’ `Anthropic.APIError` ã‚’ä½¿ã† |
| 2026-02-22 | PostgreSQL port 5432 ã§Dockerèµ·å‹• | macOS ãƒ­ãƒ¼ã‚«ãƒ«ã¨ç«¶åˆ â†’ Docker ã¯ 5433 ã‚’ä½¿ã† |
| 2026-02-27 | Trivy CI exit-code: '1' ã§CIå¤±æ•— | exit-code: '0' ã«å¤‰æ›´ã€‚SARIF ã¯ç¶™ç¶šã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒGitHub Securityã‚¿ãƒ–ã§ç¢ºèªå¯ |
| 2026-02-27 | ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸é–¾å€¤80%ã§CIå¤±æ•— | å®Ÿæ…‹ã«åˆã‚ã›ã¦70%ã«å¤‰æ›´ã€‚é–¾å€¤ã¯ `COVERAGE_THRESHOLD` env varã§ç®¡ç† |

---

## âœ… æœ‰åŠ¹ã ã£ãŸãƒ‘ã‚¿ãƒ¼ãƒ³

- **ä¸¦åˆ—3ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆä»¥ä¸Š**: `run_in_background: true` + äº‹å¾Œã« output file ã‚’ Read ã§å–å¾—
- **å¤§ããªAgentçµæœ**: å³åº§ã« `mcp__praetorian__praetorian_compact` ã§åœ§ç¸®
- **Typesense æ¥ç¶šå¤±æ•—æ™‚**: Prisma fallback ã‚’å®Ÿè£…ã—ã¦èµ·å‹•ã‚’æ­¢ã‚ãªã„è¨­è¨ˆ
- **è¿”å´å½¢å¼çµ±ä¸€**: Task ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæœ«å°¾ã«ã€Œçµæœã¯500æ–‡å­—ä»¥å†…ã§è¦ç´„ã—ã¦è¿”ã—ã¦ãã ã•ã„ã€ã‚’å¿…é ˆè¿½åŠ 
- **Sub-agent Persistent Memory**: ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ frontmatter ã« `memory: project` / `memory: user` ã‚’è¿½åŠ ã™ã‚‹ã¨ã‚»ãƒƒã‚·ãƒ§ãƒ³æ¨ªæ–­ã§è¨˜æ†¶ãŒè“„ç©ã•ã‚Œã‚‹ã€‚ä¿å­˜å…ˆ: `.claude/agent-memory/<name>/memory.md` (project) or `~/.claude/agent-memory/<name>/memory.md` (user)
- **ãƒ¢ãƒ‡ãƒ«ã‚¨ã‚¤ãƒªã‚¢ã‚¹**: ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚¿ãƒ¼ã¯ `claude-3-5-sonnet-20241022` ã§ã¯ãªã `sonnet` / `haiku` / `opus` ã‚’ä½¿ã†ï¼ˆãƒãƒ¼ã‚¸ãƒ§ãƒ³å›ºå®šã‚ˆã‚Šæœ€æ–°è¿½å¾“ãŒæ¨å¥¨ï¼‰
- **taisun_agent ã¨ taisun_agentv2 ã® `.claude/agents/`**: inode åŒä¸€ = å…±æœ‰ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã€‚ç‰‡æ–¹ã®å¤‰æ›´ãŒä¸¡æ–¹ã«åæ˜ ã•ã‚Œã‚‹
- **`isolation: worktree`**: ã‚³ãƒ¼ãƒ‰å¤‰æ›´ç³»ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã®frontmatterã«è¿½åŠ ã™ã‚‹ã¨git worktreeã§å®Œå…¨åˆ†é›¢ã€‚ä¸¦åˆ—å®Ÿè¡Œæ™‚ã®ãƒ•ã‚¡ã‚¤ãƒ«ç«¶åˆã‚’ç‰©ç†çš„ã«é˜²æ­¢ã€‚`.claude/worktrees/`ã‚’`.gitignore`ã«è¿½åŠ å¿…é ˆï¼ˆv2.1.63ã€œï¼‰
- **`isolation: worktree` å¯¾è±¡ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ (16æœ¬)**: bug-fixer, refactor-specialist, feature-builder, implementation-assistant, migration-developer, test-generator, script-writer, api-developer, backend-developer, frontend-developer, database-developer, security-scanner, api-designer, database-designer, sub-implementer, sub-test-runner-fixer

---

## âš ï¸ ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ç½ 

- `skill-usage-guard` ãŒä¸€éƒ¨ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ãƒ–ãƒ­ãƒƒã‚¯ã™ã‚‹ã“ã¨ãŒã‚ã‚‹ â†’ Skill tool ã‚’å…ˆã«å‘¼ã¹ã°è§£æ¶ˆ
- `deviation-approval-guard` ã¯ advisory-only ã«ä¿®æ­£æ¸ˆã¿ï¼ˆ2026-02-22ï¼‰
- `agent-enforcement-guard` ã¯ advisory-only ã«ä¿®æ­£æ¸ˆã¿ï¼ˆ2026-02-22ï¼‰
- Hook ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ `.claude/hooks/` ã«é›†ä¸­ã€‚å¤‰æ›´å‰ã«å¿…ãš Read ã§ç¢ºèª
- CLAUDE.md ã® L2 ã¯ `.claude/references/CLAUDE-L2.md`ã€L3 ã¯ `CLAUDE-L3.md`

---

## ğŸ“‹ ç›´è¿‘ã®æœªå®Œäº†ã‚¿ã‚¹ã‚¯ / å¼•ãç¶™ãäº‹é …

<!-- ã‚»ãƒƒã‚·ãƒ§ãƒ³çµ‚äº†å‰ã«ã“ã“ã‚’æ›´æ–°ã—ã¦ãã ã•ã„ -->

ï¼ˆç¾åœ¨ãªã—ï¼‰

---

## ğŸ“Š ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆç®¡ç†ãƒ¡ãƒ¢

| ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆä½¿ç”¨ç‡ | æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|------------------|---------------|
| 0-50% | è‡ªç”±ã«ä½œæ¥­ |
| 50-70% | å¤§ããªæ“ä½œã‚’é¿ã‘ã‚‹ |
| 70-90% | `/compact` ã‚’å®Ÿè¡Œ |
| 90%+ | `/clear` å¿…é ˆ |

---

## ğŸ”„ è‡ªå·±æ”¹å–„ãƒ«ãƒ¼ãƒ—ã®ä½¿ã„æ–¹

1. éè‡ªæ˜ãªå•é¡Œã‚’è§£æ±ºã—ãŸã‚‰ â†’ `/learn` ã‚’å®Ÿè¡Œ
2. æ•™è¨“ãŒæŠ½å‡ºã•ã‚Œã¦ `docs/mistakes-log.md` ã«ä¿å­˜
3. é€±æ¬¡ã§ AGENTS.md ã«åæ˜ ï¼ˆã¾ãŸã¯æ‰‹å‹•è¿½è¨˜ï¼‰

---

*æœ€çµ‚æ›´æ–°: 2026-02-27 | æ›´æ–°æ–¹æ³•: `/learn` ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ ã¾ãŸã¯ æ‰‹å‹•è¿½è¨˜*
