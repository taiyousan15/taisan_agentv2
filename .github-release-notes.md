# ğŸ‰ TAISUN v2.3.0 - Workflow Guardian Phase 3

Major release introducing advanced workflow control features: **Conditional Branching**, **Parallel Execution**, and **Rollback**.

---

## âœ¨ What's New

### ğŸ”€ Conditional Branching
Dynamically choose workflow paths based on runtime conditions.

**4 Condition Types**:
- `file_content` - Branch based on file contents
- `file_exists` - Branch based on file existence
- `command_output` - Branch based on command output
- `metadata_value` - Branch based on workflow metadata

**Example**:
```json
{
  "conditionalNext": {
    "condition": {
      "type": "file_content",
      "source": "output/content_type.txt",
      "pattern": "^(video|article|podcast)$"
    },
    "branches": {
      "video": "phase_video",
      "article": "phase_article",
      "podcast": "phase_podcast"
    }
  }
}
```

### âš¡ Parallel Execution
Execute multiple phases simultaneously with flexible completion strategies.

**2 Wait Strategies**:
- `waitStrategy: 'all'` - Wait for all phases to complete
- `waitStrategy: 'any'` - Proceed when any phase completes

**Example**:
```json
{
  "parallelNext": {
    "phases": ["phase_backend", "phase_frontend", "phase_tests"],
    "waitStrategy": "all"
  }
}
```

### â®ï¸ Rollback
Roll back to previous phases with automatic artifact cleanup.

**Key Features**:
- Rollback to any previous phase
- Automatic artifact deletion
- Rollback history tracking
- Phase-specific rollback restrictions

**Usage**:
```bash
npm run workflow:rollback -- phase_design "Design review required changes"
```

---

## ğŸ“Š Release Statistics

- **Files Changed**: 16 files
- **Lines Added**: 5,746 lines
- **New Tests**: 44 tests (612 total, 100% passing âœ…)
- **Documentation**: 2,124 lines across 3 documents
- **Sample Workflows**: 3 complete examples

---

## ğŸ“¦ What's Included

### Core Features
- âœ… Conditional Branching System (4 condition types)
- âœ… Parallel Execution Engine (all/any strategies)
- âœ… Rollback System (with artifact cleanup)
- âœ… Extended Type Definitions (fully typed)
- âœ… State Management Extensions

### Documentation
- ğŸ“– **User Guide** - Complete usage instructions with examples
- ğŸ“˜ **API Reference** - Full technical specifications
- ğŸ“— **Design Document** - Architecture and implementation details
- ğŸ“• **Sample Workflows** - 3 ready-to-use examples with README

### Sample Workflows
1. **Content Creation** - Conditional branching + parallel execution
2. **Software Development** - Parallel dev/QA + rollback
3. **Priority-Based** - All Phase 3 features integrated

---

## ğŸ”„ Backward Compatibility

**100% Backward Compatible** with Phase 1 & 2:
- âœ… Existing workflows work unchanged
- âœ… All Phase 3 fields are optional
- âœ… Gradual migration path
- âœ… No breaking changes

---

## ğŸš€ Getting Started

### Quick Start

```bash
# Update to v2.3.0
git pull origin main

# Try the content creation workflow
npm run workflow:start -- content_creation_v1 --strict

# Or use conditional branching
echo "video" > output/content/content_type.txt
npm run workflow:next
```

### Documentation

- ğŸ“– [User Guide](docs/WORKFLOW_PHASE3_USER_GUIDE.md)
- ğŸ“˜ [API Reference](docs/WORKFLOW_PHASE3_API_REFERENCE.md)
- ğŸ“— [Design Document](docs/WORKFLOW_PHASE3_DESIGN.md)
- ğŸ“• [Sample Workflows](config/workflows/examples/README.md)

---

## ğŸ¯ Use Cases

### Content Production
Dynamic content type selection (video/article/podcast) with parallel creative task execution

### Software Development
Parallel backend/frontend/test development with quality gates and rollback capability

### Project Management
Priority-based routing with different execution strategies per priority level

---

## ğŸ”§ Technical Highlights

### Type System Extensions
```typescript
// Conditional Branching
type ConditionType = 'file_content' | 'file_exists' | 'command_output' | 'metadata_value';
interface Condition { type, source, pattern?, expectedValue? }
interface ConditionalNext { condition, branches, defaultNext? }

// Parallel Execution
interface ParallelNext { phases, waitStrategy }
interface ParallelExecutionState { parallelGroupId, startedPhases, completedPhases, ... }

// Rollback
interface RollbackHistory { rollbackId, fromPhase, toPhase, deletedArtifacts, ... }
```

### New Commands
```bash
npm run workflow:rollback -- <phase_id> [reason]
```

---

## ğŸ“ Migration Guide

No migration required! Phase 3 is fully backward compatible.

**Optional enhancements**:
1. Add `conditionalNext` for dynamic routing
2. Add `parallelNext` for concurrent execution
3. Add `allowRollbackTo` for rollback restrictions

See [User Guide](docs/WORKFLOW_PHASE3_USER_GUIDE.md#migration-from-phase-1-2) for details.

---

## ğŸ™ Credits

**Developed by**: Claude Sonnet 4.5
**Project**: TAISUN v2 - Unified Development System

---

## ğŸ“ Support

- ğŸ“– [User Guide](docs/WORKFLOW_PHASE3_USER_GUIDE.md)
- ğŸ“˜ [API Reference](docs/WORKFLOW_PHASE3_API_REFERENCE.md)
- ğŸ› [Issue Tracker](https://github.com/taiyousan15/taisun_agent/issues)

---

**Full Release Notes**: See [RELEASE_v2.3.0.md](RELEASE_v2.3.0.md) for complete details.

**Thank you for using TAISUN v2.3.0!** ğŸ‰
