{
  "_comment": "フル構成（defer_loading最適化版） - コンテキスト70%削減",
  "mcpServers": {
    "_comment_core": "=== 常時ロード（コア3個） ===",

    "taisun-proxy": {
      "type": "stdio",
      "command": "node",
      "args": ["dist/proxy-mcp/server.js"],
      "disabled": false,
      "defer_loading": false,
      "description": "TAISUN Proxy MCP (single entrypoint)",
      "category": "system"
    },
    "playwright": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@playwright/mcp@latest"],
      "disabled": false,
      "defer_loading": false,
      "description": "Playwright MCP - ブラウザ自動化",
      "category": "browser-automation"
    },
    "open-websearch": {
      "type": "stdio",
      "command": "uvx",
      "args": ["open-websearch-mcp"],
      "disabled": false,
      "defer_loading": false,
      "description": "無料検索（DuckDuckGo/Bing/Brave）",
      "category": "search"
    },

    "_comment_deferred": "=== 遅延ロード（12個） ===",

    "youtube": {
      "type": "stdio",
      "command": "node",
      "args": ["/Users/matsumototoshihiko/mcp-youtube/dist/index.js"],
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["youtube", "動画", "字幕"],
      "description": "YouTube字幕ダウンロード",
      "category": "media"
    },
    "context7": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@upstash/context7-mcp"],
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["docs", "ドキュメント", "API", "最新"],
      "description": "最新ドキュメント取得",
      "category": "documentation"
    },
    "gpt-researcher": {
      "type": "stdio",
      "command": "uvx",
      "args": ["--from", "gpt-researcher-mcp", "gpt-researcher-mcp"],
      "env": {
        "OPENAI_API_KEY": "${OPENAI_API_KEY}",
        "TAVILY_API_KEY": "${TAVILY_API_KEY}"
      },
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["research", "調査", "リサーチ", "レポート"],
      "description": "深層リサーチ（APIコスト発生）",
      "category": "research"
    },
    "figma": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "figma-developer-mcp", "--figma-api-key=${FIGMA_API_KEY}", "--stdio"],
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["figma", "デザイン", "UI"],
      "description": "Figmaデザイン取得",
      "category": "design"
    },
    "qdrant": {
      "type": "stdio",
      "command": "uvx",
      "args": ["mcp-server-qdrant"],
      "env": {
        "QDRANT_URL": "${QDRANT_URL:-http://localhost:6333}",
        "COLLECTION_NAME": "${QDRANT_COLLECTION_NAME:-taisun_memory}",
        "EMBEDDING_MODEL": "sentence-transformers/all-MiniLM-L6-v2"
      },
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["vector", "ベクトル", "検索", "memory"],
      "description": "ベクトル検索・長期記憶",
      "category": "database"
    },
    "chroma": {
      "type": "stdio",
      "command": "uvx",
      "args": ["chroma-mcp"],
      "env": {
        "CHROMA_PERSISTENCE_PATH": "./.chroma",
        "EMBEDDING_FUNCTION": "default"
      },
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["embedding", "記憶", "永続化"],
      "description": "ローカルベクトルDB",
      "category": "memory"
    },
    "n8n-mcp": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@czlonkowski/n8n-mcp"],
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["workflow", "自動化", "n8n"],
      "description": "ワークフロー自動化",
      "category": "automation"
    },
    "apify": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@apify/mcp-server"],
      "env": {
        "APIFY_API_TOKEN": "${APIFY_API_TOKEN}"
      },
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["scrape", "SNS", "Instagram", "Twitter", "Amazon"],
      "description": "SNS/検索/ECスクレイピング",
      "category": "research"
    },
    "tavily": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "tavily-mcp"],
      "env": {
        "TAVILY_API_KEY": "${TAVILY_API_KEY}"
      },
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["tavily", "AI検索", "web検索"],
      "description": "AI特化検索エンジン",
      "category": "search"
    },
    "sequential-thinking": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-sequential-thinking"],
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["step by step", "順番に", "論理的に"],
      "description": "複雑な推論タスク用",
      "category": "reasoning"
    },
    "puppeteer": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "@modelcontextprotocol/server-puppeteer"],
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["puppeteer", "screenshot"],
      "description": "Puppeteer（レガシー）",
      "category": "browser-automation"
    },
    "mcp-memory-service": {
      "type": "stdio",
      "command": "npx",
      "args": ["-y", "mcp-memory-service"],
      "env": {
        "MCP_MAX_RESPONSE_CHARS": "30000"
      },
      "disabled": false,
      "defer_loading": true,
      "search_keywords": ["memory", "記憶", "context"],
      "description": "コンテキスト記憶",
      "category": "memory"
    }
  }
}
